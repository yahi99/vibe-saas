<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.yongche.yopsaas.db.dao.RideOrderMapper">
    <update id="updateWithOptimisticLocker" parameterType="map">
        update yopsaas_ride_order
        <set>
            <if test="order.rideOrderId != null">
                ride_order_id = #{order.rideOrderId,jdbcType=LONG},
            </if>
        </set>
        where ride_order_id = #{order.rideOrderId,jdbcType=LONG} and update_time = #{lastUpdateTime,jdbcType=INTEGER}
    </update>
</mapper>